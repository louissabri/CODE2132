<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <title>OSM Data Downloader</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css"/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
    <script src="js/osmtogeojson.js"></script>
    <link rel="stylesheet" href="css/mapStyles.css">
</head>
<body>
    <div class="navbar">
        <div class="nav-links">
            <a href="index.html">Facade</a>
            <a href="floorplans.html">Floor Plans</a>
            <a href="map.html">Map</a>
            <a href="inspiration.html">Inspiration</a>
            <a href="sources.html">Sources</a>
        </div>
        <div class="social-links">
            <a href="https://github.com/louissabri/CODE2132" target="_blank"><i class="fab fa-github"></i></a>
            <a href="https://www.instagram.com/louissabrii" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://www.linkedin.com/in/louissabri" target="_blank"><i class="fab fa-linkedin"></i></a>
        </div>
    </div>
    <header>
        <h1>OSM Data Downloader</h1>
        <p>Woah! Check out this sick map!</p>
        <p>Select a region to download highway, building, and amenity data.</p>
    </header>
    <main>
        <div id="map-container">
            <div id="map"></div>
        </div>
        <section id="viewer-container">
            <div id="legend">
                <h2>Legend</h2>
                <ul>
                    <li><span class="legend-color" style="background-color: #212121;"></span>Road</li>
                    <li><span class="legend-color" style="background-color: #657182;"></span>Building</li>
                    <li><span class="legend-color" style="background-color: #225b99;"></span>Available Block</li>
                    <li><span class="legend-color" style="background-color: #e33434;"></span>Selected Block</li>
                    <li><span class="legend-color" style="background-color: #34c0e3;"></span>Building Envelope</li>
                    <li><span class="legend-color" style="background-color: #39e385;"></span>Walkable Radius</li>
                </ul>
            </div>
            <div id="viewer"></div>
            <aside id="info">
                <section id="controls">
                    <h2>Adjust Map Parameters</h2>
                    <h3>Click to select a point, building will be placed on closest suitable block:</h3>
                    <div id="selection-box">
                        <div id="clickable-box"></div>
                        <div id="selected-point"></div>
                    </div>
                    <div id="coordinates">
                        <p>X: <span id="xCoordValue">0</span></p>
                        <p>Y: <span id="yCoordValue">0</span></p>
                    </div>
                    <div>
                        <label for="walkRadius">Walkable Amenity Radius Max Time (mins):</label>
                        <input type="range" id="walkRadius" name="Walkable Amenity Radius Max Time (mins)" min="1" max="60" step="0.1">
                        <span id="value1">5</span>
                    </div>
                    <div>
                        <label for="minBlockSize">Minimum Block Size (m):</label>
                        <input type="range" id="minBlockSize" name="Minimum Block Size (m)" min="0" max="10000" step="5">
                        <span id="value2">5</span>
                    </div>
                    <div>
                        <label for="maxBlockSize">Maximum Block Size (m):</label>
                        <input type="range" id="maxBlockSize" name="Minimum Block Size (m)" min="0" max="10000" step="5">
                        <span id="value3">5</span>
                    </div>
                    <button id="saveButton">Save Settings</button>
                    <button id="refreshButton">Refresh Model</button>
                </section>
                <section id="analysis">
                    <h2>Model Analysis Outputs</h2>
                    <div class="analysis-item">
                        <span class="analysis-label">Mean Walk Score:</span>
                        <span class="analysis-value" id="meanWalkScore">0</span>
                        <a href="https://www.walkscore.com/" target="_blank">Source</a>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Max Walk Score:</span>
                        <span class="analysis-value" id="maxWalkScore">0</span>
                        <a href="https://www.walkscore.com/" target="_blank">Source</a>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Min Walk Score:</span>
                        <span class="analysis-value" id="minWalkScore">0</span>
                        <a href="https://www.walkscore.com/" target="_blank">Source</a>
                    </div>
                </section>
            </aside>
        </section>
    </main>
    <footer>
        <p>This project includes code generated with the assistance of ChatGPT, an AI language model developed by OpenAI.</p>
    </footer>
    <script src="js/map.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/pmrem/PMREMGenerator.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/pmrem/PMREMCubeUVPacker.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/pmrem/PMREMCubeUVRenderer.js"></script>
    <script src="js/mapViewer.js"></script>
    <script src="js/mapSliders.js"></script>
</body>
</html>
